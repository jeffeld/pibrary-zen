doctype html
html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    link(rel='stylesheet', href='bower_components/bootstrap/dist/css/bootstrap.css')
    link(rel='stylesheet', href='styles/user-nav.css')
    link(rel='stylesheet', href='styles/navbar.css')
    link(rel='stylesheet', href='styles/app.css')
    style
      | [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
      |  display: none !important;
      | }
    block head

  body(ng-app='#{angularAppName}')

    div.user-header
      div.navbar.navbar-fixed-top(class=typeof isAdminApp !== "undefined" ? undefined : "navbar-inverse", role='navigation')
        div.container-fluid
          div.navbar-header
            button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
              span.sr-only Toggle Navigation
              span.icon-bar
              span.icon-bar
              span.icon-bar
            a.navbar-brand(href='#{home}') #{brand}
          div.collapse.navbar-collapse

            ul.nav.navbar-nav.navbar-right
              if (isLoggedIn)
                li
                  a(href='/account') My Account
                li
                  a(href='/signout') Log out
              else
                li
                  a(href='/home/signin') Log In
                li
                  a(href='/signup') Sign Up
              if (isAdmin)
                li
                  a(href='/admin') Admin
              li
                a(href='/help') Help

      div#searchbar.container-fluid(class=isUserApp === false ? "searchbar-inverse" : "", ng-controller="SearchController")
        div.input-group
          div.input-group-btn
            button.btn.btn-default.dropdown-toggle(type='button', data-toggle='dropdown') {{SearchScope.title}} &nbsp;
              span.caret
            ul.dropdown-menu
              li(ng-repeat="Search in SearchScopes")
                a(ng-click="onSearchScope($index)") {{Search.title}}
          input.form-control(type='text', placeholder='{{SearchScope.prompt}}')

    div.container-fluid
      block body


  script(src='bower_components/jquery/dist/jquery.js')
  script(src='bower_components/angular/angular.js')
  script(src='bower_components/bootstrap/dist/js/bootstrap.js')
  script(src='bower_components/angular-resource/angular-resource.js')
  script(src='bower_components/angular-cookies/angular-cookies.js')
  script(src='bower_components/angular-sanitize/angular-sanitize.js')
  script(src='bower_components/angular-route/angular-route.js')
  script(src="bower_components/angular-strap/dist/angular-strap.min.js")
  script(src="bower_components/angular-strap/dist/angular-strap.tpl.min.js")
  script(src='bower_components/underscore/underscore.js')
  script(src='bower_components/moment/moment.js')
  script(src='scripts/ritsservices.js')
  script(src='#{scriptPath}')
  block scripts

